<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <title>GOasis - Tribute Band Oasis</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Montserrat:wght@300;400;500;600;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css?v=2">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
</head>
<body>
    <header>
        <nav>
            <div class="logo">
                <img src="img/logo GOasis.jpeg" alt="GOasis Logo">
            </div>
            <ul class="nav-links">
                <li><a href="#home">Home</a></li>
                <li><a href="#band">La Band</a></li>
                <li><a href="#concerti">Concerti</a></li>
                <li><a href="#mappa">Mappa</a></li>
                <li><a href="#galleria">Gallery</a></li>
                <li><a href="#contatti">Contatti</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section id="home" class="hero">
            <div class="hero-overlay"></div>
            <div class="hero-content">
                <h1 class="hero-title">GOasis</h1>
                <p class="hero-subtitle">Il tributo che anche Noel approverebbe (...forse)</p>
                <div class="hero-buttons">
                    <a href="#concerti" class="btn btn-primary">Prossimi Concerti</a>
                    <a href="#contatti" class="btn btn-secondary">Contattaci</a>
                </div>
            </div>
        </section>

        <section id="concerti" class="concerts-section">
            <div class="collage-background" id="collage-background"></div>
            <div class="container">
                <h2>I prossimi concerti</h2>
                <div class="concert-list" id="concert-list">
                    <!-- I concerti verranno caricati dinamicamente -->
                    <div class="loading">Caricamento concerti...</div>
                </div>
            </div>
        </section>

        <section id="video" class="video-section">
            <div class="container">
                <div class="video-wrapper">
                    <div id="youtube-player"></div>
                    <button id="sound-toggle" class="sound-toggle" aria-label="Attiva/Disattiva audio">
                        <svg class="sound-icon sound-off" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M11 5L6 9H2v6h4l5 4V5z"></path>
                            <line x1="23" y1="9" x2="17" y2="15"></line>
                            <line x1="17" y1="9" x2="23" y2="15"></line>
                        </svg>
                        <svg class="sound-icon sound-on" style="display: none;" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M11 5L6 9H2v6h4l5 4V5z"></path>
                            <path d="M19.07 4.93a10 10 0 0 1 0 14.14"></path>
                            <path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </section>

        <section id="band" class="band-section">
            <div class="container">
                <h2>La Band</h2>
                
                <div class="band-photos">
                    <div class="band-member-photo">
                        <div class="photo-circle">
                            <img src="img/Alberto.JPG" alt="Alberto Cabas Vidani">
                        </div>
                        <h4>Alberto Cabas Vidani</h4>
                        <p>Voce e Chitarra</p>
                    </div>
                    <div class="band-member-photo">
                        <div class="photo-circle">
                            <img src="img/Omar.JPG" alt="Omar Greco">
                        </div>
                        <h4>Omar Greco</h4>
                        <p>Chitarra e Voce</p>
                    </div>
                    <div class="band-member-photo">
                        <div class="photo-circle">
                            <img src="img/giulio.png" alt="Giulio Re">
                        </div>
                        <h4>Giulio Re</h4>
                        <p>Batteria</p>
                    </div>
                    <div class="band-member-photo">
                        <div class="photo-circle">
                            <img src="img/mario.jpeg" alt="Mario Debat">
                        </div>
                        <h4>Mario Debat</h4>
                        <p>Basso</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="mappa" class="map-section">
            <div class="container">
                <h2>Dove Abbiamo Suonato</h2>
                <div id="concert-map" class="concert-map"></div>
                <div id="map-loading" class="map-loading">Caricamento mappa...</div>
            </div>
        </section>

        <section id="galleria" class="gallery-section">
            <div class="container">
                <h2>Gallery</h2>
                <div class="carousel-container">
                    <button class="carousel-btn carousel-prev" id="carousel-prev">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path d="M15 18l-6-6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                    <div class="carousel-track" id="carousel-track">
                        <!-- Immagini verranno caricate dinamicamente -->
                    </div>
                    <button class="carousel-btn carousel-next" id="carousel-next">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path d="M9 18l6-6-6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
            </div>
        </section>

        <!-- Lightbox -->
        <div class="lightbox" id="lightbox">
            <button class="lightbox-close" id="lightbox-close">&times;</button>
            <button class="lightbox-prev" id="lightbox-prev">
                <svg width="32" height="32" viewBox="0 0 24 24" fill="none">
                    <path d="M15 18l-6-6 6-6" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </button>
            <div class="lightbox-content" id="lightbox-content">
                <!-- Contenuto dinamico -->
            </div>
            <button class="lightbox-next" id="lightbox-next">
                <svg width="32" height="32" viewBox="0 0 24 24" fill="none">
                    <path d="M9 18l6-6-6-6" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </button>
        </div>

        <section id="contatti" class="contact-section">
            <div class="container">
                <h2>Contatti</h2>
                <div class="contact-icons">
                    <a href="mailto:info@goasis.it" class="contact-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <polyline points="22,6 12,13 2,6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </a>
                    
                    <a href="https://www.facebook.com/goasisgoasis" target="_blank" class="contact-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.84 3.44 8.87 8 9.8V15H8v-3h2V9.5C10 7.57 11.57 6 13.5 6H16v3h-2c-.55 0-1 .45-1 1v2h3v3h-3v6.95c5.05-.5 9-4.76 9-9.95z" fill="currentColor"/>
                        </svg>
                    </a>
                    
                    <a href="https://www.instagram.com/goasistribute/" target="_blank" class="contact-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect x="2" y="2" width="20" height="20" rx="5" ry="5" stroke="currentColor" stroke-width="2"/>
                            <path d="m16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z" stroke="currentColor" stroke-width="2"/>
                            <line x1="17.5" y1="6.5" x2="17.51" y2="6.5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                    </a>
                    
                    <a href="https://wa.me/393491611737" target="_blank" class="contact-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.893 3.488" fill="currentColor"/>
                        </svg>
                    </a>
                </div>
            </div>
        </section>
    </main>

    <!-- YouTube API -->
    <script src="https://www.youtube.com/iframe_api"></script>

    <footer>
        <div class="container">
            <p>&copy; 2024 GOasis Tribute Band. Tutti i diritti riservati.</p>
            <p>Tribute to Oasis - Non affiliati ufficialmente con la band originale</p>
        </div>
    </footer>
    
    <script>
        // Carica i concerti dal file JSON
        async function loadConcerts() {
            const concertList = document.getElementById('concert-list');
            
            try {
                const response = await fetch(`data/concerts.json?v=${Date.now()}`);
                
                if (!response.ok) {
                    throw new Error('File concerti non trovato');
                }
                
                const concerts = await response.json();
                
                // Debug logging
                console.log('Loaded concerts:', concerts);
                concerts.forEach((concert, index) => {
                    console.log(`Concert ${index}:`, concert.venue, 'acoustic:', concert.acoustic);
                });
                
                if (concerts.length === 0) {
                    concertList.innerHTML = '<p style="text-align: center; color: #666;">Nessun concerto programmato al momento</p>';
                    return;
                }
                
                // Genera HTML per ogni concerto
                const concertsHTML = concerts.map(concert => {
                    const acousticText = concert.acoustic ? ' (acustico)' : '';
                    console.log(`Generating HTML for ${concert.venue}: acoustic=${concert.acoustic}, acousticText="${acousticText}"`);
                    
                    return `
                    <div class="concert-item">
                        <div class="date-info">
                            <span class="date">${concert.day}/${concert.month}/${concert.year || '2025'}</span>
                        </div>
                        <div class="details">
                            <h3>${concert.venue}${acousticText}</h3>
                            ${concert.location ? `<p class="location">${concert.location}</p>` : ''}
                            ${concert.city ? `<p class="city">${concert.city}</p>` : ''}
                            ${concert.notes ? `<p class="notes">${concert.notes}</p>` : ''}
                        </div>
                    </div>
                `;
                }).join('');
                
                concertList.innerHTML = concertsHTML;
                
            } catch (error) {
                console.error('Errore caricamento concerti:', error);
                // Mostra concerti di esempio se il file non esiste ancora
                concertList.innerHTML = `
                    <div class="concert-item">
                        <div class="date">
                            <span class="day">TBD</span>
                            <span class="month">---</span>
                        </div>
                        <div class="details">
                            <h3>Prossimamente</h3>
                            <p>Nuove date in arrivo!</p>
                            <p>Seguici sui social per aggiornamenti</p>
                        </div>
                    </div>
                `;
            }
        }
        
        // Carica e inizializza la mappa dei concerti passati
        async function loadConcertMap() {
            const mapContainer = document.getElementById('concert-map');
            const mapLoading = document.getElementById('map-loading');
            
            try {
                const response = await fetch(`data/past-concerts-map.json?cache=bust&v=${Date.now()}`, {
                    cache: 'no-store',
                    headers: {
                        'Cache-Control': 'no-cache, no-store, must-revalidate',
                        'Pragma': 'no-cache'
                    }
                });
                
                if (!response.ok) {
                    throw new Error('Dati mappa non trovati');
                }
                
                const concerts = await response.json();
                
                // Nascondi loading
                mapLoading.style.display = 'none';
                mapContainer.style.display = 'block';
                
                // Inizializza mappa centrata sull'Italia del Nord
                const map = L.map('concert-map').setView([45.8, 13.0], 8);
                
                // Aggiungi tile layer OpenStreetMap
                L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                    attribution: '© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
                }).addTo(map);
                
                // Aggiungi markers per ogni concerto
                concerts.forEach(concert => {
                    if (concert.coordinates) {
                        const marker = L.marker([concert.coordinates.lat, concert.coordinates.lng])
                            .addTo(map)
                            .bindPopup(concert.popupText);
                    }
                });
                
                // Auto-fit della mappa se ci sono concerti
                if (concerts.length > 0) {
                    const group = new L.featureGroup(
                        concerts
                            .filter(c => c.coordinates)
                            .map(c => L.marker([c.coordinates.lat, c.coordinates.lng]))
                    );
                    map.fitBounds(group.getBounds().pad(0.1));
                }
                
                
                console.log(`Loaded map with ${concerts.length} past concerts`);
                
            } catch (error) {
                console.error('Errore caricamento mappa:', error);
                mapLoading.innerHTML = 'Mappa in aggiornamento... Torna presto per vedere tutti i luoghi dove abbiamo suonato!';
                
                // Nascondi il contenitore mappa se c'è un errore
                mapContainer.style.display = 'none';
            }
        }
        
        // Crea collage randomizzato di immagini
        function createImageCollage() {
            const collageContainer = document.getElementById('collage-background');
            const images = [
                'img/galleria/goasis-live-1.jpeg',
                'img/galleria/goasis-live-2.jpeg', 
                'img/galleria/goasis-live-3.jpeg'
            ];
            
            // Calcola numero di immagini basato sulla viewport
            const viewportWidth = window.innerWidth;
            const viewportHeight = window.innerHeight * 1.5; // Considera l'altezza della sezione
            const imageSize = 150; // Dimensione base delle immagini
            const cols = Math.ceil(viewportWidth / imageSize) + 2;
            const rows = Math.ceil(viewportHeight / imageSize) + 2;
            const totalImages = cols * rows;
            
            // Crea griglia di immagini randomizzate
            for (let i = 0; i < totalImages; i++) {
                const img = document.createElement('div');
                img.className = 'collage-image';
                
                // Scegli immagine random
                const randomImage = images[Math.floor(Math.random() * images.length)];
                img.style.backgroundImage = `url('${randomImage}')`;
                
                // Posizione random all'interno della griglia
                const col = i % cols;
                const row = Math.floor(i / cols);
                const randomOffsetX = (Math.random() - 0.5) * 30;
                const randomOffsetY = (Math.random() - 0.5) * 30;
                
                img.style.left = `${col * imageSize + randomOffsetX}px`;
                img.style.top = `${row * imageSize + randomOffsetY}px`;
                
                // Rotazione random
                const randomRotation = (Math.random() - 0.5) * 30;
                img.style.setProperty('--rotation', `${randomRotation}deg`);
                img.style.transform = `rotate(${randomRotation}deg)`;
                
                // Dimensione random
                const randomScale = 0.8 + Math.random() * 0.4;
                img.style.width = `${imageSize * randomScale}px`;
                img.style.height = `${imageSize * randomScale}px`;
                
                // Opacità random per effetto profondità
                img.style.opacity = 0.1 + Math.random() * 0.3;
                
                // Delay random per animazione
                img.style.animationDelay = `${Math.random() * 20}s`;
                
                collageContainer.appendChild(img);
            }
        }
        
        // Gallery Carousel e Lightbox
        let galleryItems = [];
        let currentCarouselIndex = 0;
        let currentLightboxIndex = 0;
        
        function initGallery() {
            // Lista di immagini nella galleria (in futuro potrebbe essere dinamico)
            galleryItems = [
                { type: 'image', src: 'img/galleria/goasis-live-1.jpeg', title: 'GOasis Live 1' },
                { type: 'image', src: 'img/galleria/goasis-live-2.jpeg', title: 'GOasis Live 2' },
                { type: 'image', src: 'img/galleria/goasis-live-3.jpeg', title: 'GOasis Live 3' }
            ];
            
            const track = document.getElementById('carousel-track');
            
            // Popola il carousel
            galleryItems.forEach((item, index) => {
                const slide = document.createElement('div');
                slide.className = 'carousel-slide';
                
                if (item.type === 'image') {
                    const img = document.createElement('img');
                    img.src = item.src;
                    img.alt = item.title;
                    img.addEventListener('click', () => openLightbox(index));
                    slide.appendChild(img);
                } else if (item.type === 'video') {
                    const video = document.createElement('video');
                    video.src = item.src;
                    video.controls = false;
                    video.addEventListener('click', () => openLightbox(index));
                    slide.appendChild(video);
                }
                
                track.appendChild(slide);
            });
            
            // Setup carousel controls
            document.getElementById('carousel-prev').addEventListener('click', () => moveCarousel(-1));
            document.getElementById('carousel-next').addEventListener('click', () => moveCarousel(1));
            
            // Setup lightbox controls
            document.getElementById('lightbox-close').addEventListener('click', closeLightbox);
            document.getElementById('lightbox-prev').addEventListener('click', () => moveLightbox(-1));
            document.getElementById('lightbox-next').addEventListener('click', () => moveLightbox(1));
            
            // Chiudi lightbox cliccando fuori
            document.getElementById('lightbox').addEventListener('click', (e) => {
                if (e.target.id === 'lightbox') closeLightbox();
            });
            
            // Keyboard navigation
            document.addEventListener('keydown', (e) => {
                const lightbox = document.getElementById('lightbox');
                if (lightbox.classList.contains('active')) {
                    if (e.key === 'ArrowLeft') moveLightbox(-1);
                    if (e.key === 'ArrowRight') moveLightbox(1);
                    if (e.key === 'Escape') closeLightbox();
                }
            });
            
            updateCarousel();
        }
        
        function moveCarousel(direction) {
            const slidesPerView = getSlidesPerView();
            const maxIndex = Math.max(0, galleryItems.length - slidesPerView);
            
            currentCarouselIndex += direction;
            currentCarouselIndex = Math.max(0, Math.min(currentCarouselIndex, maxIndex));
            
            updateCarousel();
        }
        
        function getSlidesPerView() {
            const width = window.innerWidth;
            if (width > 1200) return 4;
            if (width > 900) return 3;
            if (width > 600) return 2;
            return 1;
        }
        
        function updateCarousel() {
            const track = document.getElementById('carousel-track');
            const slideWidth = 100 / getSlidesPerView();
            const offset = -currentCarouselIndex * slideWidth;
            track.style.transform = `translateX(${offset}%)`;
            
            // Update button states
            const prevBtn = document.getElementById('carousel-prev');
            const nextBtn = document.getElementById('carousel-next');
            const slidesPerView = getSlidesPerView();
            const maxIndex = Math.max(0, galleryItems.length - slidesPerView);
            
            prevBtn.style.opacity = currentCarouselIndex === 0 ? '0.3' : '1';
            nextBtn.style.opacity = currentCarouselIndex >= maxIndex ? '0.3' : '1';
        }
        
        function openLightbox(index) {
            currentLightboxIndex = index;
            const lightbox = document.getElementById('lightbox');
            lightbox.classList.add('active');
            document.body.style.overflow = 'hidden';
            updateLightbox();
        }
        
        function closeLightbox() {
            const lightbox = document.getElementById('lightbox');
            lightbox.classList.remove('active');
            document.body.style.overflow = '';
        }
        
        function moveLightbox(direction) {
            currentLightboxIndex += direction;
            if (currentLightboxIndex < 0) currentLightboxIndex = galleryItems.length - 1;
            if (currentLightboxIndex >= galleryItems.length) currentLightboxIndex = 0;
            updateLightbox();
        }
        
        function updateLightbox() {
            const content = document.getElementById('lightbox-content');
            const item = galleryItems[currentLightboxIndex];
            
            content.innerHTML = '';
            
            if (item.type === 'image') {
                const img = document.createElement('img');
                img.src = item.src;
                img.alt = item.title;
                content.appendChild(img);
            } else if (item.type === 'video') {
                const video = document.createElement('video');
                video.src = item.src;
                video.controls = true;
                video.autoplay = true;
                content.appendChild(video);
            }
        }
        
        // Carica concerti e mappa quando la pagina è pronta
        // YouTube player
        let player;
        let playerReady = false;
        
        // This function gets called by YouTube API
        function onYouTubeIframeAPIReady() {
            player = new YT.Player('youtube-player', {
                height: '100%',
                width: '100%',
                videoId: '-xQsH3PR-1c',
                playerVars: {
                    'autoplay': 1,
                    'loop': 1,
                    'playlist': '-xQsH3PR-1c', // Required for loop to work
                    'controls': 0,              // Hide player controls
                    'modestbranding': 1,         // Minimize YouTube branding
                    'rel': 0,                    // Don't show related videos
                    'showinfo': 0,               // Hide video info
                    'mute': 1,                   // Start muted
                    'playsinline': 1,            // Play inline on mobile
                    'disablekb': 1,              // Disable keyboard controls
                    'fs': 0,                     // Hide fullscreen button
                    'iv_load_policy': 3,         // Hide video annotations
                    'autohide': 1,               // Auto hide controls
                    'enablejsapi': 1,            // Enable JS API
                    'origin': window.location.origin,
                    'vq': 'hd1080',              // Request 1080p quality
                    'quality': 'hd1080'          // Alternative quality parameter
                },
                events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange
                }
            });
        }
        
        function onPlayerStateChange(event) {
            // If video ends, restart it (backup for loop)
            if (event.data === YT.PlayerState.ENDED) {
                player.playVideo();
            }
            // When playing, ensure 1080p quality
            if (event.data === YT.PlayerState.PLAYING) {
                const currentQuality = player.getPlaybackQuality();
                if (currentQuality !== 'hd1080') {
                    player.setPlaybackQuality('hd1080');
                }
            }
        }
        
        function onPlayerReady(event) {
            playerReady = true;
            event.target.playVideo();
            // Force 1080p quality if available
            event.target.setPlaybackQuality('hd1080');
            initVideoControls();
        }
        
        // Video sound toggle functionality
        function initVideoControls() {
            const soundToggle = document.getElementById('sound-toggle');
            const soundOffIcon = soundToggle.querySelector('.sound-off');
            const soundOnIcon = soundToggle.querySelector('.sound-on');
            
            if (!playerReady || !player) return;
            
            soundToggle.addEventListener('click', () => {
                if (player.isMuted()) {
                    player.unMute();
                    soundOffIcon.style.display = 'none';
                    soundOnIcon.style.display = 'block';
                } else {
                    player.mute();
                    soundOffIcon.style.display = 'block';
                    soundOnIcon.style.display = 'none';
                }
            });
        }
        
        document.addEventListener('DOMContentLoaded', () => {
            createImageCollage();
            loadConcerts();
            loadConcertMap();
            initGallery();
        });
        
        // Update carousel on window resize
        window.addEventListener('resize', updateCarousel);
    </script>
</body>
</html>